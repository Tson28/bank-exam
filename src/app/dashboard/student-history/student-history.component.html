<div class="history-container">
  <div class="page-header">
    <h1>L·ªãch s·ª≠ l√†m b√†i</h1>
    <p>Xem l·∫°i t·∫•t c·∫£ c√°c b√†i thi b·∫°n ƒë√£ l√†m</p>
  </div>
  
  <div class="exam-history" *ngIf="!loading && !error && examHistory.length > 0">
    <table class="history-table">
      <thead>
        <tr>
          <th>T√™n b√†i thi</th>
          <th>L·ªõp</th>
          <th>Th·ªùi gian l√†m</th>
          <th>ƒêi·ªÉm s·ªë</th>
          <th>Tr·∫°ng th√°i</th>
          <th>H√†nh ƒë·ªông</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let history of examHistory">
          <td>{{ history.examTitle }}</td>
          <td>{{ history.className }}</td>
          <td>{{ history.startTime | date:'dd/MM/yyyy HH:mm' }}</td>
          <td>
            <span [ngClass]="getScoreClass(history.score)">
              {{ history.score ? (history.score | number:'1.1-1') : 'N/A' }}
            </span>
          </td>
          <td>
            <span [ngClass]="getStatusClass(history.status)">
              {{ history.status === 'completed' ? 'ƒê√£ ho√†n th√†nh' : 
                  history.status === 'in_progress' ? 'ƒêang l√†m' : 'ƒê√£ h·ªßy' }}
            </span>
          </td>
          <td>
            <button 
              class="btn btn-primary" 
              *ngIf="history.completed"
              (click)="viewExamResult(history.attemptId)">
              Xem k·∫øt qu·∫£
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>ƒêang t·∫£i l·ªãch s·ª≠ b√†i thi...</p>
  </div>
  
  <div *ngIf="error" class="error-message">
    <p>{{ error }}</p>
    <button class="btn btn-primary" (click)="loadExamHistory()">Th·ª≠ l·∫°i</button>
  </div>
  
  <div *ngIf="!loading && !error && examHistory.length === 0" class="empty-state">
    <div class="empty-icon">üìä</div>
    <p>Ch∆∞a c√≥ l·ªãch s·ª≠ b√†i thi</p>
    <button class="btn btn-primary" routerLink="/dashboard/student-exams">Xem ƒë·ªÅ thi</button>
  </div>
</div> 